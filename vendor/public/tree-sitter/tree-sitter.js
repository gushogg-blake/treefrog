var Module=void 0!==Module?Module:{},TreeSitter=function(){var e,t="object"==typeof window?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(r){return e||(Module=Object.assign({},Module,r),e=new Promise(e=>{var r,n={};for(r in Module)Module.hasOwnProperty(r)&&(n[r]=Module[r]);var s,o=[],_="./this.program",a=function(e,t){throw t},u=!0,l=!1,i="";(u||l)&&(l?i=self.location.href:void 0!==t&&t.currentScript&&(i=t.currentScript.src),i=0!==i.indexOf("blob:")?i.substr(0,i.lastIndexOf("/")+1):"",function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});Module.print||console.log.bind(console);var d=Module.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(Module[r]=n[r]);n=null,Module.arguments&&(o=Module.arguments),Module.thisProgram&&(_=Module.thisProgram),Module.quit&&(a=Module.quit);var c=16;var m,f=[];function p(e,t){if(!m){m=new WeakMap;for(var r=0;r<j.length;r++){var n=j.get(r);n&&m.set(n,r)}}if(m.has(e))return m.get(e);var s=function(){if(f.length)return f.pop();try{j.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return j.length-1}();try{j.set(s,e)}catch(r){if(!(r instanceof TypeError))throw r;var o=function(e,t){if("function"==typeof WebAssembly.Function){for(var r={i:"i32",j:"i64",f:"f32",d:"f64"},n={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},s=1;s<t.length;++s)n.parameters.push(r[t[s]]);return new WebAssembly.Function(n,e)}var o=[1,0,1,96],_=t.slice(0,1),a=t.slice(1),u={i:127,j:126,f:125,d:124};for(o.push(a.length),s=0;s<a.length;++s)o.push(u[a[s]]);"v"==_?o.push(0):o=o.concat([1,u[_]]),o[1]=o.length-2;var l=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),i=new WebAssembly.Module(l);return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}(e,t);j.set(s,o)}return m.set(e,s),s}var h,g=function(e){e},w=Module.dynamicLibraries||[];Module.wasmBinary&&(h=Module.wasmBinary);var M,y=Module.noExitRuntime||!0;function b(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":x[e>>0]=t;break;case"i16":P[e>>1]=t;break;case"i32":k[e>>2]=t;break;case"i64":re=[t>>>0,(te=t,+Math.abs(te)>=1?te>0?(0|Math.min(+Math.floor(te/4294967296),4294967295))>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],k[e>>2]=re[0],k[e+4>>2]=re[1];break;case"float":C[e>>2]=t;break;case"double":q[e>>3]=t;break;default:Y("invalid type for setValue: "+r)}}function v(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return x[e>>0];case"i16":return P[e>>1];case"i32":case"i64":return k[e>>2];case"float":return C[e>>2];case"double":return q[e>>3];default:Y("invalid type for getValue: "+t)}return null}"object"!=typeof WebAssembly&&Y("no native wasm support detected");var E=!1;function I(e,t){e||Y("Assertion failed: "+t)}var S=1;var A,x,N,P,k,C,q,R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function T(e,t,r){for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.subarray&&R)return R.decode(e.subarray(t,s));for(var o="";t<s;){var _=e[t++];if(128&_){var a=63&e[t++];if(192!=(224&_)){var u=63&e[t++];if((_=224==(240&_)?(15&_)<<12|a<<6|u:(7&_)<<18|a<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(_);else{var l=_-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&_)<<6|a)}else o+=String.fromCharCode(_)}return o}function L(e,t){return e?T(N,e,t):""}function W(e,t,r,n){if(!(n>0))return 0;for(var s=r,o=r+n-1,_=0;_<e.length;++_){var a=e.charCodeAt(_);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++_);if(a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-s}function O(e,t,r){return W(e,N,t,r)}function Z(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function F(e){var t=Z(e)+1,r=Oe(t);return W(e,x,r,t),r}function $(e){A=e,Module.HEAP8=x=new Int8Array(e),Module.HEAP16=P=new Int16Array(e),Module.HEAP32=k=new Int32Array(e),Module.HEAPU8=N=new Uint8Array(e),Module.HEAPU16=new Uint16Array(e),Module.HEAPU32=new Uint32Array(e),Module.HEAPF32=C=new Float32Array(e),Module.HEAPF64=q=new Float64Array(e)}var D=Module.INITIAL_MEMORY||33554432;(M=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:D/65536,maximum:32768}))&&(A=M.buffer),D=A.byteLength,$(A);var j=new WebAssembly.Table({initial:17,element:"anyfunc"}),U=[],z=[],G=[],H=[],B=!1;var K=0,V=null,X=null;function Q(e){K++,Module.monitorRunDependencies&&Module.monitorRunDependencies(K)}function J(e){if(K--,Module.monitorRunDependencies&&Module.monitorRunDependencies(K),0==K&&(null!==V&&(clearInterval(V),V=null),X)){var t=X;X=null,t()}}function Y(e){throw Module.onAbort&&Module.onAbort(e),d(e+=""),E=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}Module.preloadedImages={},Module.preloadedAudios={},Module.preloadedWasm={};var ee,te,re,ne="data:application/octet-stream;base64,";function se(e){return e.startsWith(ne)}function oe(e){try{if(e==ee&&h)return new Uint8Array(h);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){Y(e)}}se(ee="tree-sitter.wasm")||(ee=function(e){return Module.locateFile?Module.locateFile(e,i):i+e}(ee));var _e={},ae={get:function(e,t){return _e[t]||(_e[t]=new WebAssembly.Global({value:"i32",mutable:!0})),_e[t]}};function ue(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?j.get(r)():j.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(Module)}}function le(e){var t=0;function r(){for(var r=0,n=1;;){var s=e[t++];if(r+=(127&s)*n,n*=128,!(128&s))break}return r}if(e instanceof WebAssembly.Module){var n=WebAssembly.Module.customSections(e,"dylink");I(0!=n.length,"need dylink section"),e=new Int8Array(n[0])}else{I(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),I(0===e[8],"need the dylink section to be first"),t=9,r(),I(6===e[t]),I(e[++t]==="d".charCodeAt(0)),I(e[++t]==="y".charCodeAt(0)),I(e[++t]==="l".charCodeAt(0)),I(e[++t]==="i".charCodeAt(0)),I(e[++t]==="n".charCodeAt(0)),I(e[++t]==="k".charCodeAt(0)),t++}var s={};s.memorySize=r(),s.memoryAlign=r(),s.tableSize=r(),s.tableAlign=r();var o=r();s.neededDynlibs=[];for(var _=0;_<o;++_){var a=r(),u=e.subarray(t,t+a);t+=a;var l=T(u,0);s.neededDynlibs.push(l)}return s}var ie=0;function de(){return y||ie>0}function ce(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function me(e,t){for(var r in e)if(e.hasOwnProperty(r)){qe.hasOwnProperty(r)||(qe[r]=e[r]);var n=ce(r);Module.hasOwnProperty(n)||(Module[n]=e[r])}}var fe={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function pe(e,t,r){return e.includes("j")?function(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):j.get(t).apply(null,r)}var he=5250832;function ge(e){return["__cpp_exception","__wasm_apply_data_relocs","__dso_handle","__set_stack_limits"].includes(e)}function we(e,t){var r={};for(var n in e){var s=e[n];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=t),r[n]=s}return function(e){for(var t in e)if(!ge(t)){var r=!1,n=e[t];t.startsWith("orig$")&&(t=t.split("$")[1],r=!0),_e[t]||(_e[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(r||0==_e[t].value)&&("function"==typeof n?_e[t].value=p(n):"number"==typeof n?_e[t].value=n:d("unhandled export type for `"+t+"`: "+typeof n))}}(r),r}function Me(e,t){var r,n;return t&&(r=qe["orig$"+e]),r||(r=qe[e]),r||(r=Module[ce(e)]),!r&&e.startsWith("invoke_")&&(n=e.split("_")[1],r=function(){var e=Le();try{return pe(n,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(We(e),t!==t+0&&"longjmp"!==t)throw t;Ze(1,0)}}),r}function ye(e,t){var r=le(e);function n(){var n=Math.pow(2,r.memoryAlign);n=Math.max(n,c);var s,o,_,a=(s=function(e){if(B)return Re(e);var t=he,r=t+e+15&-16;return he=r,_e.__heap_base.value=r,t}(r.memorySize+n),(o=n)||(o=c),Math.ceil(s/o)*o),u=j.length;j.grow(r.tableSize);for(var l=a;l<a+r.memorySize;l++)x[l]=0;for(l=u;l<u+r.tableSize;l++)j.set(l,null);var i=new Proxy({},{get:function(e,t){switch(t){case"__memory_base":return a;case"__table_base":return u}if(t in qe)return qe[t];var r;t in e||(e[t]=function(){return r||(r=function(e){var t=Me(e,!1);return t||(t=_[e]),t}(t)),r.apply(null,arguments)});return e[t]}}),d={"GOT.mem":new Proxy({},ae),"GOT.func":new Proxy({},ae),env:i,wasi_snapshot_preview1:i};function f(e){for(var n=0;n<r.tableSize;n++){var s=j.get(u+n);s&&m.set(s,u+n)}_=we(e.exports,a),t.allowUndefined||ve();var o=_.__wasm_call_ctors;return o||(o=_.__post_instantiate),o&&(B?o():z.push(o)),_}if(t.loadAsync){if(e instanceof WebAssembly.Module){var p=new WebAssembly.Instance(e,d);return Promise.resolve(f(p))}return WebAssembly.instantiate(e,d).then(function(e){return f(e.instance)})}var h=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(p=new WebAssembly.Instance(h,d))}return t.loadAsync?r.neededDynlibs.reduce(function(e,r){return e.then(function(){return be(r,t)})},Promise.resolve()).then(function(){return n()}):(r.neededDynlibs.forEach(function(e){be(e,t)}),n())}function be(e,t){"__main__"!=e||fe.loadedLibNames[e]||(fe.loadedLibs[-1]={refcount:1/0,name:"__main__",module:Module.asm,global:!0},fe.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var r,n=fe.loadedLibNames[e];if(n)return r=fe.loadedLibs[n],t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&me(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,t.loadAsync?Promise.resolve(n):n;function o(e){if(t.fs){var r=t.fs.readFile(e,{encoding:"binary"});return r instanceof Uint8Array||(r=new Uint8Array(r)),t.loadAsync?Promise.resolve(r):r}return t.loadAsync?(n=e,fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load binary file at '"+n+"'";return e.arrayBuffer()}).then(function(e){return new Uint8Array(e)})):s(e);var n}function _(){if(void 0!==Module.preloadedWasm&&void 0!==Module.preloadedWasm[e]){var r=Module.preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?o(e).then(function(e){return ye(e,t)}):ye(o(e),t)}function a(e){r.global&&me(e),r.module=e}return n=fe.nextHandle++,r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},fe.loadedLibNames[e]=n,fe.loadedLibs[n]=r,t.loadAsync?_().then(function(e){return a(e),n}):(a(_()),n)}function ve(){for(var e in _e)if(0==_e[e].value){var t=Me(e,!0);"function"==typeof t?_e[e].value=p(t,t.sig):"number"==typeof t?_e[e].value=t:I(!1,"bad export type for `"+e+"`: "+typeof t)}}Module.___heap_base=he;var Ee,Ie=new WebAssembly.Global({value:"i32",mutable:!0},5250832);function Se(){Y()}Module._abort=Se,Se.sig="v",Ee=function(){return performance.now()};var Ae=!0;function xe(e,t){var r,n;if(0===e)r=Date.now();else{if(1!==e&&4!==e||!Ae)return n=28,k[Te()>>2]=n,-1;r=Ee()}return k[t>>2]=r/1e3|0,k[t+4>>2]=r%1e3*1e3*1e3|0,0}function Ne(e){try{return M.grow(e-A.byteLength+65535>>>16),$(M.buffer),1}catch(e){}}function Pe(e){je(e)}function ke(e){g(e)}xe.sig="iii",Pe.sig="vi",ke.sig="vi";var Ce,qe={__heap_base:he,__indirect_function_table:j,__memory_base:1024,__stack_pointer:Ie,__table_base:1,abort:Se,clock_gettime:xe,emscripten_memcpy_big:function(e,t,r){N.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t,r,n=N.length;if((e>>>=0)>2147483648)return!1;for(var s=1;s<=4;s*=2){var o=n*(1+.2/s);if(o=Math.min(o,e+100663296),Ne(Math.min(2147483648,((t=Math.max(e,o))%(r=65536)>0&&(t+=r-t%r),t))))return!0}return!1},exit:Pe,memory:M,setTempRet0:ke,tree_sitter_log_callback:function(e,t){if(ot){const r=L(t);ot(r,0!==e)}},tree_sitter_parse_callback:function(e,t,r,n,s){var o=st(t,{row:r,column:n});"string"==typeof o?(b(s,o.length,"i32"),function(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=(r-=2)<2*e.length?r/2:e.length,s=0;s<n;++s){var o=e.charCodeAt(s);P[t>>1]=o,t+=2}P[t>>1]=0}(o,e,10240)):b(s,0,"i32")}},Re=(function(){var e={env:qe,wasi_snapshot_preview1:qe,"GOT.mem":new Proxy(qe,ae),"GOT.func":new Proxy(qe,ae)};function t(e,t){var r=e.exports;r=we(r,1024),Module.asm=r;var n,s=le(t);s.neededDynlibs&&(w=s.neededDynlibs.concat(w)),me(r),n=Module.asm.__wasm_call_ctors,z.unshift(n),J()}function r(e){t(e.instance,e.module)}function n(t){return(h||!u&&!l||"function"!=typeof fetch?Promise.resolve().then(function(){return oe(ee)}):fetch(ee,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()}).catch(function(){return oe(ee)})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){d("failed to asynchronously prepare wasm: "+e),Y(e)})}if(Q(),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return d("Module.instantiateWasm callback failed with error: "+e),!1}h||"function"!=typeof WebAssembly.instantiateStreaming||se(ee)||"function"!=typeof fetch?n(r):fetch(ee,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),n(r)})})}(),Module.___wasm_call_ctors=function(){return(Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},Module._malloc=function(){return(Re=Module._malloc=Module.asm.malloc).apply(null,arguments)}),Te=(Module._calloc=function(){return(Module._calloc=Module.asm.calloc).apply(null,arguments)},Module._free=function(){return(Module._free=Module.asm.free).apply(null,arguments)},Module._ts_language_symbol_count=function(){return(Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},Module._ts_language_version=function(){return(Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},Module._ts_language_field_count=function(){return(Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},Module._ts_language_symbol_name=function(){return(Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},Module._ts_language_symbol_for_name=function(){return(Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},Module._ts_language_symbol_type=function(){return(Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},Module._ts_language_field_name_for_id=function(){return(Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},Module._memcpy=function(){return(Module._memcpy=Module.asm.memcpy).apply(null,arguments)},Module._ts_parser_delete=function(){return(Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},Module._ts_parser_reset=function(){return(Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},Module._ts_parser_set_language=function(){return(Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},Module._ts_parser_timeout_micros=function(){return(Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},Module._ts_parser_set_timeout_micros=function(){return(Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},Module._memmove=function(){return(Module._memmove=Module.asm.memmove).apply(null,arguments)},Module._memcmp=function(){return(Module._memcmp=Module.asm.memcmp).apply(null,arguments)},Module._ts_query_new=function(){return(Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},Module._ts_query_delete=function(){return(Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},Module._iswspace=function(){return(Module._iswspace=Module.asm.iswspace).apply(null,arguments)},Module._iswalnum=function(){return(Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},Module._ts_query_pattern_count=function(){return(Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},Module._ts_query_capture_count=function(){return(Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},Module._ts_query_string_count=function(){return(Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},Module._ts_query_capture_name_for_id=function(){return(Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},Module._ts_query_string_value_for_id=function(){return(Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},Module._ts_query_predicates_for_pattern=function(){return(Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},Module._ts_tree_copy=function(){return(Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},Module._ts_tree_delete=function(){return(Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},Module._ts_init=function(){return(Module._ts_init=Module.asm.ts_init).apply(null,arguments)},Module._ts_parser_new_wasm=function(){return(Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},Module._ts_parser_enable_logger_wasm=function(){return(Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},Module._ts_parser_parse_wasm=function(){return(Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},Module._ts_language_type_is_named_wasm=function(){return(Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},Module._ts_language_type_is_visible_wasm=function(){return(Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},Module._ts_tree_root_node_wasm=function(){return(Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},Module._ts_tree_edit_wasm=function(){return(Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},Module._ts_tree_get_changed_ranges_wasm=function(){return(Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},Module._ts_tree_cursor_new_wasm=function(){return(Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},Module._ts_tree_cursor_delete_wasm=function(){return(Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},Module._ts_tree_cursor_reset_wasm=function(){return(Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_first_child_wasm=function(){return(Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_parent_wasm=function(){return(Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_id_wasm=function(){return(Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_position_wasm=function(){return(Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_position_wasm=function(){return(Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_index_wasm=function(){return(Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_index_wasm=function(){return(Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_field_id_wasm=function(){return(Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_wasm=function(){return(Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},Module._ts_node_symbol_wasm=function(){return(Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},Module._ts_node_child_count_wasm=function(){return(Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},Module._ts_node_named_child_count_wasm=function(){return(Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},Module._ts_node_child_wasm=function(){return(Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},Module._ts_node_named_child_wasm=function(){return(Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},Module._ts_node_child_by_field_id_wasm=function(){return(Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},Module._ts_node_next_sibling_wasm=function(){return(Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_sibling_wasm=function(){return(Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},Module._ts_node_next_named_sibling_wasm=function(){return(Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_named_sibling_wasm=function(){return(Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},Module._ts_node_parent_wasm=function(){return(Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},Module._ts_node_descendant_for_index_wasm=function(){return(Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_index_wasm=function(){return(Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_descendant_for_position_wasm=function(){return(Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_position_wasm=function(){return(Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_start_point_wasm=function(){return(Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},Module._ts_node_end_point_wasm=function(){return(Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},Module._ts_node_start_index_wasm=function(){return(Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},Module._ts_node_end_index_wasm=function(){return(Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},Module._ts_node_to_string_wasm=function(){return(Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},Module._ts_node_children_wasm=function(){return(Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},Module._ts_node_named_children_wasm=function(){return(Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},Module._ts_node_descendants_of_type_wasm=function(){return(Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},Module._ts_node_is_named_wasm=function(){return(Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},Module._ts_node_has_changes_wasm=function(){return(Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},Module._ts_node_has_error_wasm=function(){return(Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},Module._ts_node_is_missing_wasm=function(){return(Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},Module._ts_query_matches_wasm=function(){return(Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},Module._ts_query_captures_wasm=function(){return(Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},Module.___errno_location=function(){return(Te=Module.___errno_location=Module.asm.__errno_location).apply(null,arguments)}),Le=(Module._memchr=function(){return(Module._memchr=Module.asm.memchr).apply(null,arguments)},Module._iswalpha=function(){return(Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},Module._iswlower=function(){return(Module._iswlower=Module.asm.iswlower).apply(null,arguments)},Module._iswdigit=function(){return(Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},Module._towupper=function(){return(Module._towupper=Module.asm.towupper).apply(null,arguments)},Module._strlen=function(){return(Module._strlen=Module.asm.strlen).apply(null,arguments)},Module.stackSave=function(){return(Le=Module.stackSave=Module.asm.stackSave).apply(null,arguments)}),We=Module.stackRestore=function(){return(We=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},Oe=Module.stackAlloc=function(){return(Oe=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},Ze=Module._setThrew=function(){return(Ze=Module._setThrew=Module.asm.setThrew).apply(null,arguments)};Module.__Znwm=function(){return(Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},Module.__ZdlPv=function(){return(Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=Module.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},Module._orig$ts_parser_timeout_micros=function(){return(Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},Module._orig$ts_parser_set_timeout_micros=function(){return(Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};function Fe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Module.allocate=function(e,t){var r;return r=t==S?Oe(e.length):Re(e.length),e.subarray||e.slice?N.set(e,r):N.set(new Uint8Array(e),r),r};X=function e(){Ce||De(),Ce||(X=e)};var $e=!1;function De(e){function t(){Ce||(Ce=!0,Module.calledRun=!0,E||(B=!0,ue(z),ue(G),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Ue&&function(e){var t=Module._main;if(t){var r=(e=e||[]).length+1,n=Oe(4*(r+1));k[n>>2]=F(_);for(var s=1;s<r;s++)k[(n>>2)+s]=F(e[s-1]);k[(n>>2)+r]=0;try{je(t(r,n),!0)}catch(e){if(e instanceof Fe)return;if("unwind"==e)return;var o=e;e&&"object"==typeof e&&e.stack&&(o=[e,e.stack]),d("exception thrown: "+o),a(1,e)}finally{!0}}}(e),function(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)e=Module.postRun.shift(),H.unshift(e);var e;ue(H)}()))}e=e||o,K>0||!$e&&(function(){if(w.length){if(!s)return Q(),void w.reduce(function(e,t){return e.then(function(){return be(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){J(),ve()});w.forEach(function(e){be(e,{global:!0,nodelete:!0,allowUndefined:!0})}),ve()}else ve()}(),$e=!0,K>0)||(!function(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)e=Module.preRun.shift(),U.unshift(e);var e;ue(U)}(),K>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function je(e,t){e,t&&de()&&0===e||(de()||(!0,Module.onExit&&Module.onExit(e),E=!0),a(e,new Fe(e)))}if(Module.run=De,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var Ue=!0;Module.noInitialRun&&(Ue=!1),De();const ze=Module,Ge={},He=4,Be=5*He,Ke=2*He,Ve=2*He+2*Ke,Xe={row:0,column:0},Qe=/[\w-.]*/g,Je=1,Ye=2,et=/^_?tree_sitter_\w+/;var tt,rt,nt,st,ot;class ParserImpl{static init(){nt=ze._ts_init(),tt=v(nt,"i32"),rt=v(nt+He,"i32")}initialize(){ze._ts_parser_new_wasm(),this[0]=v(nt,"i32"),this[1]=v(nt+He,"i32")}delete(){ze._ts_parser_delete(this[0]),ze._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{t=e[0];const r=ze._ts_language_version(t);if(r<rt||tt<r)throw new Error(`Incompatible language version ${r}. `+`Compatibility range ${rt} through ${tt}.`)}}else t=0,e=null;return this.language=e,ze._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,r){if("string"==typeof e)st=((t,r,n)=>e.slice(t,n));else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");st=e}this.logCallback?(ot=this.logCallback,ze._ts_parser_enable_logger_wasm(this[0],1)):(ot=null,ze._ts_parser_enable_logger_wasm(this[0],0));let n=0,s=0;if(r&&r.includedRanges){n=r.includedRanges.length;let e=s=ze._calloc(n,Ve);for(let t=0;t<n;t++)ht(e,r.includedRanges[t]),e+=Ve}const o=ze._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,n);if(!o)throw st=null,ot=null,new Error("Parsing failed");const _=new Tree(Ge,o,this.language,st);return st=null,ot=null,_}reset(){ze._ts_parser_reset(this[0])}setTimeoutMicros(e){ze._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return ze._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,r,n){ut(e),this[0]=t,this.language=r,this.textCallback=n}copy(){const e=ze._ts_tree_copy(this[0]);return new Tree(Ge,e,this.language,this.textCallback)}delete(){ze._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=nt;ft(t,e.startPosition),ft(t+=Ke,e.oldEndPosition),ft(t+=Ke,e.newEndPosition),b(t+=Ke,e.startIndex,"i32"),b(t+=He,e.oldEndIndex,"i32"),b(t+=He,e.newEndIndex,"i32"),t+=He}(e),ze._ts_tree_edit_wasm(this[0])}get rootNode(){return ze._ts_tree_root_node_wasm(this[0]),dt(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");ze._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=v(nt,"i32"),r=v(nt+He,"i32"),n=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)n[r]=gt(e),e+=Ve;ze._free(r)}return n}}class Node{constructor(e,t){ut(e),this.tree=t}get typeId(){return it(this),ze._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return it(this),ze._ts_node_end_point_wasm(this.tree[0]),pt(nt)}get endIndex(){return it(this),ze._ts_node_end_index_wasm(this.tree[0])}get text(){return _t(this.tree,this.startIndex,this.endIndex)}isNamed(){return it(this),1===ze._ts_node_is_named_wasm(this.tree[0])}hasError(){return it(this),1===ze._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return it(this),1===ze._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return it(this),1===ze._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return it(this),ze._ts_node_child_wasm(this.tree[0],e),dt(this.tree)}namedChild(e){return it(this),ze._ts_node_named_child_wasm(this.tree[0],e),dt(this.tree)}childForFieldId(e){return it(this),ze._ts_node_child_by_field_id_wasm(this.tree[0],e),dt(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return it(this),ze._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return it(this),ze._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){it(this),ze._ts_node_children_wasm(this.tree[0]);const e=v(nt,"i32"),t=v(nt+He,"i32");if(this._children=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._children[t]=dt(this.tree,r),r+=Be;ze._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){it(this),ze._ts_node_named_children_wasm(this.tree[0]);const e=v(nt,"i32"),t=v(nt+He,"i32");if(this._namedChildren=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._namedChildren[t]=dt(this.tree,r),r+=Be;ze._free(t)}}return this._namedChildren}descendantsOfType(e,t,r){Array.isArray(e)||(e=[e]),t||(t=Xe),r||(r=Xe);const n=[],s=this.tree.language.types;for(let t=0,r=s.length;t<r;t++)e.includes(s[t])&&n.push(t);const o=ze._malloc(He*n.length);for(let e=0,t=n.length;e<t;e++)b(o+e*He,n[e],"i32");it(this),ze._ts_node_descendants_of_type_wasm(this.tree[0],o,n.length,t.row,t.column,r.row,r.column);const _=v(nt,"i32"),a=v(nt+He,"i32"),u=new Array(_);if(_>0){let e=a;for(let t=0;t<_;t++)u[t]=dt(this.tree,e),e+=Be}return ze._free(a),ze._free(o),u}get nextSibling(){return it(this),ze._ts_node_next_sibling_wasm(this.tree[0]),dt(this.tree)}get previousSibling(){return it(this),ze._ts_node_prev_sibling_wasm(this.tree[0]),dt(this.tree)}get nextNamedSibling(){return it(this),ze._ts_node_next_named_sibling_wasm(this.tree[0]),dt(this.tree)}get previousNamedSibling(){return it(this),ze._ts_node_prev_named_sibling_wasm(this.tree[0]),dt(this.tree)}get parent(){return it(this),ze._ts_node_parent_wasm(this.tree[0]),dt(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");it(this);let r=nt+Be;return b(r,e,"i32"),b(r+He,t,"i32"),ze._ts_node_descendant_for_index_wasm(this.tree[0]),dt(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");it(this);let r=nt+Be;return b(r,e,"i32"),b(r+He,t,"i32"),ze._ts_node_named_descendant_for_index_wasm(this.tree[0]),dt(this.tree)}descendantForPosition(e,t=e){if(!lt(e)||!lt(t))throw new Error("Arguments must be {row, column} objects");it(this);let r=nt+Be;return ft(r,e),ft(r+Ke,t),ze._ts_node_descendant_for_position_wasm(this.tree[0]),dt(this.tree)}namedDescendantForPosition(e,t=e){if(!lt(e)||!lt(t))throw new Error("Arguments must be {row, column} objects");it(this);let r=nt+Be;return ft(r,e),ft(r+Ke,t),ze._ts_node_named_descendant_for_position_wasm(this.tree[0]),dt(this.tree)}walk(){return it(this),ze._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(Ge,this.tree)}toString(){it(this);const e=ze._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var r=N[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}(e);return ze._free(e),t}}class TreeCursor{constructor(e,t){ut(e),this.tree=t,mt(this)}delete(){ct(this),ze._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){it(e),ct(this,nt+Be),ze._ts_tree_cursor_reset_wasm(this.tree[0]),mt(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return ct(this),ze._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return ct(this),ze._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return ct(this),1===ze._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return ct(this),1===ze._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){ct(this);const e=ze._ts_tree_cursor_start_index_wasm(this.tree[0]),t=ze._ts_tree_cursor_end_index_wasm(this.tree[0]);return _t(this.tree,e,t)}get startPosition(){return ct(this),ze._ts_tree_cursor_start_position_wasm(this.tree[0]),pt(nt)}get endPosition(){return ct(this),ze._ts_tree_cursor_end_position_wasm(this.tree[0]),pt(nt)}get startIndex(){return ct(this),ze._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return ct(this),ze._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return ct(this),ze._ts_tree_cursor_current_node_wasm(this.tree[0]),dt(this.tree)}currentFieldId(){return ct(this),ze._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){ct(this);const e=ze._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return mt(this),1===e}gotoNextSibling(){ct(this);const e=ze._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return mt(this),1===e}gotoParent(){ct(this);const e=ze._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return mt(this),1===e}}class Language{constructor(e,t){ut(e),this[0]=t,this.types=new Array(ze._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)ze._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=L(ze._ts_language_symbol_name(this[0],e)));this.fields=new Array(ze._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=ze._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?L(t):null}}get version(){return ze._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const r=Z(e),n=ze._malloc(r+1);O(e,n,r+1);const s=ze._ts_language_symbol_for_name(this[0],n,r,t);return ze._free(n),s||null}get nodeTypeCount(){return ze._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=ze._ts_language_symbol_name(this[0],e);return t?L(t):null}nodeTypeIsNamed(e){return!!ze._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!ze._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=Z(e),r=ze._malloc(t+1);O(e,r,t+1);const n=ze._ts_query_new(this[0],r,t,nt,nt+He);if(!n){const t=v(nt+He,"i32"),n=L(r,v(nt,"i32")).length,s=e.substr(n,100).split("\n")[0];let o,_=s.match(Qe)[0];switch(t){case 2:o=new RangeError(`Bad node name '${_}'`);break;case 3:o=new RangeError(`Bad field name '${_}'`);break;case 4:o=new RangeError(`Bad capture name @${_}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${n}: '${s}'...`),_="";break;default:o=new SyntaxError(`Bad syntax at offset ${n}: '${s}'...`),_=""}throw o.index=n,o.length=_.length,ze._free(r),o}const s=ze._ts_query_string_count(n),o=ze._ts_query_capture_count(n),_=ze._ts_query_pattern_count(n),a=new Array(o),u=new Array(s);for(let e=0;e<o;e++){const t=ze._ts_query_capture_name_for_id(n,e,nt),r=v(nt,"i32");a[e]=L(t,r)}for(let e=0;e<s;e++){const t=ze._ts_query_string_value_for_id(n,e,nt),r=v(nt,"i32");u[e]=L(t,r)}const l=new Array(_),i=new Array(_),d=new Array(_),c=new Array(_),m=new Array(_);for(let e=0;e<_;e++){const t=ze._ts_query_predicates_for_pattern(n,e,nt),r=v(nt,"i32");c[e]=[],m[e]=[];const s=[];let o=t;for(let t=0;t<r;t++){const t=v(o,"i32"),r=v(o+=He,"i32");if(o+=He,t===Je)s.push({type:"capture",name:a[r]});else if(t===Ye)s.push({type:"string",value:u[r]});else if(s.length>0){if("string"!==s[0].type)throw new Error("Predicates must begin with a literal value");const t=s[0].value;let r=!0;switch(t){case"not-eq?":r=!1;case"eq?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#eq?\` predicate. Expected 2, got ${s.length-1}`);if("capture"!==s[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${s[1].value}"`);if("capture"===s[2].type){const t=s[1].name,n=s[2].name;m[e].push(function(e){let s,o;for(const r of e)r.name===t&&(s=r.node),r.name===n&&(o=r.node);return void 0===s||void 0===o||s.text===o.text===r})}else{const t=s[1].name,n=s[2].value;m[e].push(function(e){for(const s of e)if(s.name===t)return s.node.text===n===r;return!0})}break;case"not-match?":r=!1;case"match?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${s.length-1}.`);if("capture"!==s[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${s[1].value}".`);if("string"!==s[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${s[2].value}.`);const n=s[1].name,o=new RegExp(s[2].value);m[e].push(function(e){for(const t of e)if(t.name===n)return o.test(t.node.text)===r;return!0});break;case"set!":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error('Arguments to `#set!` predicate must be a strings.".');l[e]||(l[e]={}),l[e][s[1].value]=s[2]?s[2].value:null;break;case"is?":case"is-not?":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const _="is?"===t?i:d;_[e]||(_[e]={}),_[e][s[1].value]=s[2]?s[2].value:null;break;default:c[e].push({operator:t,operands:s.slice(1)})}s.length=0}}Object.freeze(l[e]),Object.freeze(i[e]),Object.freeze(d[e])}return ze._free(r),new Query(Ge,n,a,m,c,Object.freeze(l),Object.freeze(i),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=require("fs");t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then(e=>e.arrayBuffer().then(t=>{if(e.ok)return new Uint8Array(t);{const r=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${r}`)}}))}const r="function"==typeof loadSideModule?loadSideModule:ye;return t.then(e=>r(e,{loadAsync:!0})).then(e=>{const t=Object.keys(e),r=t.find(e=>et.test(e)&&!e.includes("external_scanner_"));r||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const n=e[r]();return new Language(Ge,n)})}}class Query{constructor(e,t,r,n,s,o,_,a){ut(e),this[0]=t,this.captureNames=r,this.textPredicates=n,this.predicates=s,this.setProperties=o,this.assertedProperties=_,this.refutedProperties=a,this.exceededMatchLimit=!1}delete(){ze._ts_query_delete(this[0]),this[0]=0}matches(e,t,r,n){t||(t=Xe),r||(r=Xe),n||(n={});let s=n.matchLimit;if(void 0===s)s=0;else if("number"!=typeof s)throw new Error("Arguments must be numbers");it(e),ze._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,s);const o=v(nt,"i32"),_=v(nt+He,"i32"),a=v(nt+2*He,"i32"),u=new Array(o);this.exceededMatchLimit=!!a;let l=0,i=_;for(let t=0;t<o;t++){const r=v(i,"i32"),n=v(i+=He,"i32");i+=He;const s=new Array(n);if(i=at(this,e.tree,i,s),this.textPredicates[r].every(e=>e(s))){u[l++]={pattern:r,captures:s};const e=this.setProperties[r];e&&(u[t].setProperties=e);const n=this.assertedProperties[r];n&&(u[t].assertedProperties=n);const o=this.refutedProperties[r];o&&(u[t].refutedProperties=o)}}return u.length=l,ze._free(_),u}captures(e,t,r,n){t||(t=Xe),r||(r=Xe),n||(n={});let s=n.matchLimit;if(void 0===s)s=0;else if("number"!=typeof s)throw new Error("Arguments must be numbers");it(e),ze._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,s);const o=v(nt,"i32"),_=v(nt+He,"i32"),a=v(nt+2*He,"i32"),u=[];this.exceededMatchLimit=!!a;const l=[];let i=_;for(let t=0;t<o;t++){const t=v(i,"i32"),r=v(i+=He,"i32"),n=v(i+=He,"i32");if(i+=He,l.length=r,i=at(this,e.tree,i,l),this.textPredicates[t].every(e=>e(l))){const e=l[n],r=this.setProperties[t];r&&(e.setProperties=r);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const o=this.refutedProperties[t];o&&(e.refutedProperties=o),u.push(e)}}return ze._free(_),u}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function _t(e,t,r){const n=r-t;let s=e.textCallback(t,null,r);for(t+=s.length;t<r;){const n=e.textCallback(t,null,r);if(!(n&&n.length>0))break;t+=n.length,s+=n}return t>r&&(s=s.slice(0,n)),s}function at(e,t,r,n){for(let s=0,o=n.length;s<o;s++){const o=v(r,"i32"),_=dt(t,r+=He);r+=Be,n[s]={name:e.captureNames[o],node:_}}return r}function ut(e){if(e!==Ge)throw new Error("Illegal constructor")}function lt(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function it(e){let t=nt;b(t,e.id,"i32"),b(t+=He,e.startIndex,"i32"),b(t+=He,e.startPosition.row,"i32"),b(t+=He,e.startPosition.column,"i32"),b(t+=He,e[0],"i32")}function dt(e,t=nt){const r=v(t,"i32");if(0===r)return null;const n=v(t+=He,"i32"),s=v(t+=He,"i32"),o=v(t+=He,"i32"),_=v(t+=He,"i32"),a=new Node(Ge,e);return a.id=r,a.startIndex=n,a.startPosition={row:s,column:o},a[0]=_,a}function ct(e,t=nt){b(t+0*He,e[0],"i32"),b(t+1*He,e[1],"i32"),b(t+2*He,e[2],"i32")}function mt(e){e[0]=v(nt+0*He,"i32"),e[1]=v(nt+1*He,"i32"),e[2]=v(nt+2*He,"i32")}function ft(e,t){b(e,t.row,"i32"),b(e+He,t.column,"i32")}function pt(e){return{row:v(e,"i32"),column:v(e+He,"i32")}}function ht(e,t){ft(e,t.startPosition),ft(e+=Ke,t.endPosition),b(e+=Ke,t.startIndex,"i32"),b(e+=He,t.endIndex,"i32"),e+=He}function gt(e){const t={};return t.startPosition=pt(e),e+=Ke,t.endPosition=pt(e),e+=Ke,t.startIndex=v(e,"i32"),e+=He,t.endIndex=v(e,"i32"),t}for(const e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=(()=>{ParserImpl.init(),e()})}))}}return Parser}();"object"==typeof exports&&(module.exports=TreeSitter);
